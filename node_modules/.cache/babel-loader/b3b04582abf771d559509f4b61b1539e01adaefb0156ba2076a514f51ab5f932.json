{"ast":null,"code":"var _jsxFileName = \"/Users/steve.guo/Desktop/code-lib/mui-starter/src/components/Search/SearchUi.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Autosuggest from 'react-autosuggest';\nimport { NavLink } from 'react-router-dom';\nimport match from 'autosuggest-highlight/match';\nimport parse from 'autosuggest-highlight/parse';\nimport TextField from '@mui/material/TextField';\nimport Paper from '@mui/material/Paper';\nimport MenuItem from '@mui/material/MenuItem';\nimport suggestionsApi from 'dan-api/ui/menu';\nimport useStyles from './search-jss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst menu = [];\nfunction renderInput(inputProps) {\n  const {\n    ref,\n    ...rest\n  } = inputProps;\n  return /*#__PURE__*/_jsxDEV(TextField, {\n    variant: \"standard\",\n    className: \"input-header\",\n    fullWidth: true,\n    InputProps: {\n      inputRef: ref,\n      ...rest\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n}\nfunction renderSuggestion(suggestion, _ref) {\n  let {\n    query,\n    isHighlighted\n  } = _ref;\n  const matches = match(suggestion.name, query);\n  const parts = parse(suggestion.name, matches);\n  return /*#__PURE__*/_jsxDEV(MenuItem, {\n    selected: isHighlighted,\n    component: NavLink,\n    to: suggestion.link,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: parts.map((part, index) => part.highlight ? /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontWeight: 700\n        },\n        children: part.text\n      }, String(index), false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"strong\", {\n        style: {\n          fontWeight: 300\n        },\n        children: part.text\n      }, String(index), false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\nfunction renderSuggestionsContainer(options) {\n  const {\n    containerProps,\n    children\n  } = options;\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    ...containerProps,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\nfunction getSuggestionValue(suggestion) {\n  return suggestion.name;\n}\nfunction getSuggestions(value) {\n  const inputValue = value.trim().toLowerCase();\n  const inputLength = inputValue.length;\n  let count = 0;\n  return inputLength === 0 ? [] : menu.filter(suggestion => {\n    const keep = (!inputValue || suggestion.name.toLowerCase().indexOf(inputValue.toLowerCase()) !== -1) && count < 5;\n    if (keep) {\n      count += 1;\n    }\n    return keep;\n  });\n}\nfunction SearchUi(props) {\n  _s();\n  const [value, setValue] = useState('');\n  const [suggestions, setSuggestions] = useState([]);\n  const {\n    classes\n  } = useStyles();\n  useEffect(() => {\n    suggestionsApi.map(item => {\n      if (item.child) {\n        item.child.map(itemChild => {\n          if (itemChild.link) {\n            menu.push(itemChild);\n          }\n          return menu;\n        });\n      }\n      return false;\n    });\n  }, []);\n  const handleSuggestionsFetchRequested = e => {\n    setSuggestions(getSuggestions(e.value));\n  };\n  const handleSuggestionsClearRequested = () => {\n    setSuggestions([]);\n  };\n  const handleChange = (event, _ref2) => {\n    let {\n      newValue\n    } = _ref2;\n    setValue(newValue);\n  };\n  const handleSuggestionSelected = (event, _ref3) => {\n    let {\n      suggestion,\n      method\n    } = _ref3;\n    const {\n      history\n    } = props;\n    if (method === 'enter') {\n      history.push(suggestion.link);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Autosuggest, {\n    theme: {\n      container: classes.containerSearch,\n      suggestionsContainerOpen: classes.suggestionsContainerOpen,\n      suggestionsList: classes.suggestionsList,\n      suggestion: classes.suggestion\n    },\n    renderInputComponent: renderInput,\n    suggestions: suggestions,\n    onSuggestionsFetchRequested: e => handleSuggestionsFetchRequested(e),\n    onSuggestionsClearRequested: handleSuggestionsClearRequested,\n    renderSuggestionsContainer: renderSuggestionsContainer,\n    getSuggestionValue: getSuggestionValue,\n    onSuggestionSelected: handleSuggestionSelected,\n    renderSuggestion: renderSuggestion,\n    className: classes.autocomplete,\n    inputProps: {\n      placeholder: 'Search UI',\n      value,\n      onChange: handleChange\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n_s(SearchUi, \"TNcAvWBnzU90yL4oepS8OrfiMOI=\", false, function () {\n  return [useStyles];\n});\n_c = SearchUi;\nSearchUi.propTypes = {\n  history: PropTypes.object.isRequired\n};\nexport default SearchUi;\nvar _c;\n$RefreshReg$(_c, \"SearchUi\");","map":{"version":3,"names":["React","useState","useEffect","PropTypes","Autosuggest","NavLink","match","parse","TextField","Paper","MenuItem","suggestionsApi","useStyles","jsxDEV","_jsxDEV","menu","renderInput","inputProps","ref","rest","variant","className","fullWidth","InputProps","inputRef","fileName","_jsxFileName","lineNumber","columnNumber","renderSuggestion","suggestion","_ref","query","isHighlighted","matches","name","parts","selected","component","to","link","children","map","part","index","highlight","style","fontWeight","text","String","renderSuggestionsContainer","options","containerProps","getSuggestionValue","getSuggestions","value","inputValue","trim","toLowerCase","inputLength","length","count","filter","keep","indexOf","SearchUi","props","_s","setValue","suggestions","setSuggestions","classes","item","child","itemChild","push","handleSuggestionsFetchRequested","e","handleSuggestionsClearRequested","handleChange","event","_ref2","newValue","handleSuggestionSelected","_ref3","method","history","theme","container","containerSearch","suggestionsContainerOpen","suggestionsList","renderInputComponent","onSuggestionsFetchRequested","onSuggestionsClearRequested","onSuggestionSelected","autocomplete","placeholder","onChange","_c","propTypes","object","isRequired","$RefreshReg$"],"sources":["/Users/steve.guo/Desktop/code-lib/mui-starter/src/components/Search/SearchUi.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Autosuggest from 'react-autosuggest';\nimport { NavLink } from 'react-router-dom';\nimport match from 'autosuggest-highlight/match';\nimport parse from 'autosuggest-highlight/parse';\nimport TextField from '@mui/material/TextField';\nimport Paper from '@mui/material/Paper';\nimport MenuItem from '@mui/material/MenuItem';\nimport suggestionsApi from 'dan-api/ui/menu';\nimport useStyles from './search-jss';\n\nconst menu = [];\n\nfunction renderInput(inputProps) {\n  const { ref, ...rest } = inputProps;\n\n  return (\n    <TextField\n      variant=\"standard\"\n      className=\"input-header\"\n      fullWidth\n      InputProps={{\n        inputRef: ref,\n        ...rest,\n      }} />\n  );\n}\n\nfunction renderSuggestion(suggestion, { query, isHighlighted }) {\n  const matches = match(suggestion.name, query);\n  const parts = parse(suggestion.name, matches);\n\n  return (\n    <MenuItem selected={isHighlighted} component={NavLink} to={suggestion.link}>\n      <div>\n        {parts.map((part, index) => (\n          part.highlight ? (\n            <span key={String(index)} style={{ fontWeight: 700 }}>\n              {part.text}\n            </span>\n          ) : (\n            <strong key={String(index)} style={{ fontWeight: 300 }}>\n              {part.text}\n            </strong>\n          )\n        ))}\n      </div>\n    </MenuItem>\n  );\n}\n\nfunction renderSuggestionsContainer(options) {\n  const { containerProps, children } = options;\n\n  return (\n    <Paper {...containerProps}>\n      {children}\n    </Paper>\n  );\n}\n\nfunction getSuggestionValue(suggestion) {\n  return suggestion.name;\n}\n\nfunction getSuggestions(value) {\n  const inputValue = value.trim().toLowerCase();\n  const inputLength = inputValue.length;\n  let count = 0;\n  return inputLength === 0 ? [] : menu.filter(suggestion => {\n    const keep = (!inputValue || suggestion.name.toLowerCase().indexOf(inputValue.toLowerCase()) !== -1) && count < 5;\n\n    if (keep) {\n      count += 1;\n    }\n\n    return keep;\n  });\n}\n\nfunction SearchUi(props) {\n  const [value, setValue] = useState('');\n  const [suggestions, setSuggestions] = useState([]);\n  const { classes } = useStyles();\n\n  useEffect(() => {\n    suggestionsApi.map(item => {\n      if (item.child) {\n        item.child.map(itemChild => {\n          if (itemChild.link) {\n            menu.push(itemChild);\n          }\n          return menu;\n        });\n      }\n      return false;\n    });\n  }, []);\n\n  const handleSuggestionsFetchRequested = (e) => {\n    setSuggestions(getSuggestions(e.value));\n  };\n\n  const handleSuggestionsClearRequested = () => {\n    setSuggestions([]);\n  };\n\n  const handleChange = (event, { newValue }) => {\n    setValue(newValue);\n  };\n\n  const handleSuggestionSelected = (event, { suggestion, method }) => {\n    const { history } = props;\n    if (method === 'enter') {\n      history.push(suggestion.link);\n    }\n  };\n\n  return (\n    <Autosuggest\n      theme={{\n        container: classes.containerSearch,\n        suggestionsContainerOpen: classes.suggestionsContainerOpen,\n        suggestionsList: classes.suggestionsList,\n        suggestion: classes.suggestion,\n      }}\n      renderInputComponent={renderInput}\n      suggestions={suggestions}\n      onSuggestionsFetchRequested={(e) => handleSuggestionsFetchRequested(e)}\n      onSuggestionsClearRequested={handleSuggestionsClearRequested}\n      renderSuggestionsContainer={renderSuggestionsContainer}\n      getSuggestionValue={getSuggestionValue}\n      onSuggestionSelected={handleSuggestionSelected}\n      renderSuggestion={renderSuggestion}\n      className={classes.autocomplete}\n      inputProps={{\n        placeholder: 'Search UI',\n        value,\n        onChange: handleChange,\n      }}\n    />\n  );\n}\n\nSearchUi.propTypes = {\n  history: PropTypes.object.isRequired,\n};\n\nexport default SearchUi;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,WAAW,MAAM,mBAAmB;AAC3C,SAASC,OAAO,QAAQ,kBAAkB;AAC1C,OAAOC,KAAK,MAAM,6BAA6B;AAC/C,OAAOC,KAAK,MAAM,6BAA6B;AAC/C,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,KAAK,MAAM,qBAAqB;AACvC,OAAOC,QAAQ,MAAM,wBAAwB;AAC7C,OAAOC,cAAc,MAAM,iBAAiB;AAC5C,OAAOC,SAAS,MAAM,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErC,MAAMC,IAAI,GAAG,EAAE;AAEf,SAASC,WAAWA,CAACC,UAAU,EAAE;EAC/B,MAAM;IAAEC,GAAG;IAAE,GAAGC;EAAK,CAAC,GAAGF,UAAU;EAEnC,oBACEH,OAAA,CAACN,SAAS;IACRY,OAAO,EAAC,UAAU;IAClBC,SAAS,EAAC,cAAc;IACxBC,SAAS;IACTC,UAAU,EAAE;MACVC,QAAQ,EAAEN,GAAG;MACb,GAAGC;IACL;EAAE;IAAAM,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAG;AAEX;AAEA,SAASC,gBAAgBA,CAACC,UAAU,EAAAC,IAAA,EAA4B;EAAA,IAA1B;IAAEC,KAAK;IAAEC;EAAc,CAAC,GAAAF,IAAA;EAC5D,MAAMG,OAAO,GAAG5B,KAAK,CAACwB,UAAU,CAACK,IAAI,EAAEH,KAAK,CAAC;EAC7C,MAAMI,KAAK,GAAG7B,KAAK,CAACuB,UAAU,CAACK,IAAI,EAAED,OAAO,CAAC;EAE7C,oBACEpB,OAAA,CAACJ,QAAQ;IAAC2B,QAAQ,EAAEJ,aAAc;IAACK,SAAS,EAAEjC,OAAQ;IAACkC,EAAE,EAAET,UAAU,CAACU,IAAK;IAAAC,QAAA,eACzE3B,OAAA;MAAA2B,QAAA,EACGL,KAAK,CAACM,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,KACrBD,IAAI,CAACE,SAAS,gBACZ/B,OAAA;QAA0BgC,KAAK,EAAE;UAAEC,UAAU,EAAE;QAAI,CAAE;QAAAN,QAAA,EAClDE,IAAI,CAACK;MAAI,GADDC,MAAM,CAACL,KAAK,CAAC;QAAAnB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAEjB,gBAEPd,OAAA;QAA4BgC,KAAK,EAAE;UAAEC,UAAU,EAAE;QAAI,CAAE;QAAAN,QAAA,EACpDE,IAAI,CAACK;MAAI,GADCC,MAAM,CAACL,KAAK,CAAC;QAAAnB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAI7B;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACE;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACG;AAEf;AAEA,SAASsB,0BAA0BA,CAACC,OAAO,EAAE;EAC3C,MAAM;IAAEC,cAAc;IAAEX;EAAS,CAAC,GAAGU,OAAO;EAE5C,oBACErC,OAAA,CAACL,KAAK;IAAA,GAAK2C,cAAc;IAAAX,QAAA,EACtBA;EAAQ;IAAAhB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACH;AAEZ;AAEA,SAASyB,kBAAkBA,CAACvB,UAAU,EAAE;EACtC,OAAOA,UAAU,CAACK,IAAI;AACxB;AAEA,SAASmB,cAAcA,CAACC,KAAK,EAAE;EAC7B,MAAMC,UAAU,GAAGD,KAAK,CAACE,IAAI,EAAE,CAACC,WAAW,EAAE;EAC7C,MAAMC,WAAW,GAAGH,UAAU,CAACI,MAAM;EACrC,IAAIC,KAAK,GAAG,CAAC;EACb,OAAOF,WAAW,KAAK,CAAC,GAAG,EAAE,GAAG5C,IAAI,CAAC+C,MAAM,CAAChC,UAAU,IAAI;IACxD,MAAMiC,IAAI,GAAG,CAAC,CAACP,UAAU,IAAI1B,UAAU,CAACK,IAAI,CAACuB,WAAW,EAAE,CAACM,OAAO,CAACR,UAAU,CAACE,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,KAAKG,KAAK,GAAG,CAAC;IAEjH,IAAIE,IAAI,EAAE;MACRF,KAAK,IAAI,CAAC;IACZ;IAEA,OAAOE,IAAI;EACb,CAAC,CAAC;AACJ;AAEA,SAASE,QAAQA,CAACC,KAAK,EAAE;EAAAC,EAAA;EACvB,MAAM,CAACZ,KAAK,EAAEa,QAAQ,CAAC,GAAGnE,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACoE,WAAW,EAAEC,cAAc,CAAC,GAAGrE,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM;IAAEsE;EAAQ,CAAC,GAAG3D,SAAS,EAAE;EAE/BV,SAAS,CAAC,MAAM;IACdS,cAAc,CAAC+B,GAAG,CAAC8B,IAAI,IAAI;MACzB,IAAIA,IAAI,CAACC,KAAK,EAAE;QACdD,IAAI,CAACC,KAAK,CAAC/B,GAAG,CAACgC,SAAS,IAAI;UAC1B,IAAIA,SAAS,CAAClC,IAAI,EAAE;YAClBzB,IAAI,CAAC4D,IAAI,CAACD,SAAS,CAAC;UACtB;UACA,OAAO3D,IAAI;QACb,CAAC,CAAC;MACJ;MACA,OAAO,KAAK;IACd,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAM6D,+BAA+B,GAAIC,CAAC,IAAK;IAC7CP,cAAc,CAAChB,cAAc,CAACuB,CAAC,CAACtB,KAAK,CAAC,CAAC;EACzC,CAAC;EAED,MAAMuB,+BAA+B,GAAGA,CAAA,KAAM;IAC5CR,cAAc,CAAC,EAAE,CAAC;EACpB,CAAC;EAED,MAAMS,YAAY,GAAGA,CAACC,KAAK,EAAAC,KAAA,KAAmB;IAAA,IAAjB;MAAEC;IAAS,CAAC,GAAAD,KAAA;IACvCb,QAAQ,CAACc,QAAQ,CAAC;EACpB,CAAC;EAED,MAAMC,wBAAwB,GAAGA,CAACH,KAAK,EAAAI,KAAA,KAA6B;IAAA,IAA3B;MAAEtD,UAAU;MAAEuD;IAAO,CAAC,GAAAD,KAAA;IAC7D,MAAM;MAAEE;IAAQ,CAAC,GAAGpB,KAAK;IACzB,IAAImB,MAAM,KAAK,OAAO,EAAE;MACtBC,OAAO,CAACX,IAAI,CAAC7C,UAAU,CAACU,IAAI,CAAC;IAC/B;EACF,CAAC;EAED,oBACE1B,OAAA,CAACV,WAAW;IACVmF,KAAK,EAAE;MACLC,SAAS,EAAEjB,OAAO,CAACkB,eAAe;MAClCC,wBAAwB,EAAEnB,OAAO,CAACmB,wBAAwB;MAC1DC,eAAe,EAAEpB,OAAO,CAACoB,eAAe;MACxC7D,UAAU,EAAEyC,OAAO,CAACzC;IACtB,CAAE;IACF8D,oBAAoB,EAAE5E,WAAY;IAClCqD,WAAW,EAAEA,WAAY;IACzBwB,2BAA2B,EAAGhB,CAAC,IAAKD,+BAA+B,CAACC,CAAC,CAAE;IACvEiB,2BAA2B,EAAEhB,+BAAgC;IAC7D5B,0BAA0B,EAAEA,0BAA2B;IACvDG,kBAAkB,EAAEA,kBAAmB;IACvC0C,oBAAoB,EAAEZ,wBAAyB;IAC/CtD,gBAAgB,EAAEA,gBAAiB;IACnCR,SAAS,EAAEkD,OAAO,CAACyB,YAAa;IAChC/E,UAAU,EAAE;MACVgF,WAAW,EAAE,WAAW;MACxB1C,KAAK;MACL2C,QAAQ,EAAEnB;IACZ;EAAE;IAAAtD,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACF;AAEN;AAACuC,EAAA,CA9DQF,QAAQ;EAAA,QAGKrD,SAAS;AAAA;AAAAuF,EAAA,GAHtBlC,QAAQ;AAgEjBA,QAAQ,CAACmC,SAAS,GAAG;EACnBd,OAAO,EAAEnF,SAAS,CAACkG,MAAM,CAACC;AAC5B,CAAC;AAED,eAAerC,QAAQ;AAAC,IAAAkC,EAAA;AAAAI,YAAA,CAAAJ,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}